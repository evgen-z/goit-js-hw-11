{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const searchPixabay = searchQuery => {\n  const searchParams = new URLSearchParams({\n    key: '529440-adfab00ac2bbbc69c0a669d95',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: '18',\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(error);\n    }\n\n    return response.json();\n  });\n};\n","export function renderGallery(images) {\n  return images\n    .map(\n      img => `\n        <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n        <div class=\"gallery-under\">\n\t\t<img \n\t\t\tclass=\"gallery-image\" \n\t\t\tsrc=\"${img.webformatURL}\" \n\t\t\talt=\"${img.tags}\" \n\t\t\t/>\n            <ul class=\"gallery-info\">\n        <li class=\"gallery-info-item\">\n          <h3>Likes</h3>\n          <p>${img.likes}</p>\n        </li>\n        <li class=\"gallery-info-item\">\n          <h3>Views</h3>\n          <p>${img.views}</p>\n        </li>\n        <li class=\"gallery-info-item\">\n          <h3>Comments</h3>\n          <p>${img.comments}</p>\n        </li>\n        <li class=\"gallery-info-item\">\n          <h3>Downloads</h3>\n          <p>${img.downloads}</p>\n        </li>\n      </ul></div>\n\t</a>\n      `\n    )\n    .join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchPixabay } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\n\nloader.style.display = 'none';\n\nconst searchSubmit = event => {\n  event.preventDefault();\n\n  const searchQuery = event.currentTarget.elements.query.value.trim();\n\n  gallery.innerHTML = '';\n\n  if (searchQuery === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Search field cannot be empty!',\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      messageColor: '#FAFAFB',\n      titleColor: '#FAFAFB',\n      iconColor: '#FAFAFB',\n    });\n    return;\n  }\n  loader.style.display = 'block';\n  searchPixabay(searchQuery)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          messageColor: '#FAFAFB',\n          iconColor: '#FAFAFB',\n        });\n\n        gallery.innerHTML = '';\n        loader.style.display = 'none';\n        searchForm.reset();\n\n        return;\n      }\n\n      gallery.innerHTML = renderGallery(data.hits);\n\n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a');\n      } else {\n        lightbox.refresh();\n      }\n      loader.style.display = 'none';\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nsearchForm.addEventListener('submit', searchSubmit);\n"],"names":["searchPixabay","searchQuery","searchParams","response","renderGallery","images","img","searchForm","gallery","loader","lightbox","searchSubmit","event","iziToast","data","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAgBC,GAAe,CAC1C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,mCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,IACd,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,KAAK,EAGvB,OAAOA,EAAS,MACpB,CAAG,CACH,ECjBO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACCC,GAAO;AAAA,wCAC2BA,EAAI,aAAa;AAAA;AAAA;AAAA;AAAA,UAI/CA,EAAI,YAAY;AAAA,UAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,eAKHA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,eAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,eAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,eAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,OAKvB,EACA,KAAK,EAAE,CACZ,CCzBA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAEJD,EAAO,MAAM,QAAU,OAEvB,MAAME,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAEpB,MAAMX,EAAcW,EAAM,cAAc,SAAS,MAAM,MAAM,OAI7D,GAFAJ,EAAQ,UAAY,GAEhBP,IAAgB,GAAI,CACtBY,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,gCACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,WAAY,UACZ,UAAW,SACjB,CAAK,EACD,MACD,CACDJ,EAAO,MAAM,QAAU,QACvBT,EAAcC,CAAW,EACtB,KAAKa,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,UAAW,SACrB,CAAS,EAEDL,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,OACvBF,EAAW,MAAK,EAEhB,MACD,CAEDC,EAAQ,UAAYJ,EAAcU,EAAK,IAAI,EAEtCJ,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIK,EAAe,YAAY,EAI5CN,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAMO,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,EAEAT,EAAW,iBAAiB,SAAUI,CAAY"}